"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{6085:function(t,e,n){n.r(e),n.d(e,{BroadcastComponent:function(){return _},default:function(){return P}});var r=n(5893),i=n(7294);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function f(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,i,c=f(s);function s(){return a(this,s),c.apply(this,arguments)}return e=s,(n=[{key:"componentDidMount",value:function(){var t=this,e=this.canvas.getContext("2d"),n=0;this.interval=setInterval((function(){for(var r=e.createImageData(t.canvas.width,t.canvas.height),i=r.data,a=0,o=i.length;a<o;a+=4){var c=7+Math.sin(a/5e4+n/7);i[a]=i[a+1]=i[a+2]=40*Math.random()*c,i[a+3]=255}e.putImageData(r,0,0),n=(n+1)%t.canvas.height}),50)}},{key:"componentWillUnmount",value:function(){this.interval&&(clearInterval(this.interval),this.interval=void 0)}},{key:"render",value:function(){var t=this;return(0,r.jsx)("canvas",{ref:function(e){return t.canvas=e},width:"640",height:"480",style:{width:"100%",maxWidth:640}})}}])&&o(e.prototype,n),i&&o(e,i),s}(i.Component),h=n(4664),p=n(4051),v=n.n(p),m=(n(4905),n(6450)),y=n(5691),b=[{image:"image",encodings:[.1,.2,-.1,-.2]}];function g(t,e,n,r,i,a,o){try{var c=t[a](o),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(r,i)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){g(a,r,i,o,c,"next",t)}function c(t){g(a,r,i,o,c,"throw",t)}o(void 0)}))}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e,n){return e&&j(t.prototype,e),n&&j(t,n),t}var N=function(){function t(e){w(this,t),this.dispatch=e}return k(t,[{key:"startBroadcast",value:function(){var t=this;return x(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch((0,m.$p)("preparing")),e.next=3,new Promise((function(t){return setTimeout(t,2e3)}));case 3:t.dispatch((0,m.$p)("broadcasting")),t.interval=setInterval((function(){for(var e=[],n=Math.min(Math.ceil(3*Math.random()),b.length);e.length<n;){var r=Math.floor(Math.random()*b.length);e.includes(r)||e.push(r)}var i=e.map((function(t){return b[t]}));i.length>0&&t.dispatch((0,y.BX)(i))}),1e3);case 5:case"end":return e.stop()}}),e)})))()}},{key:"stopBroadcast",value:function(){var t=this;return x(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.dispatch((0,m.$p)("ready")),t.dispose();case 2:case"end":return e.stop()}}),e)})))()}},{key:"attachVideo",value:function(t){}},{key:"dispose",value:function(){this.interval&&(clearInterval(this.interval),this.interval=void 0)}}]),t}(),C=(0,i.createContext)(null);function O(t){var e,n=t.children,i=(0,h.TL)();return e||(e=new N(i)),(0,r.jsx)(C.Provider,{value:e,children:n})}function P(){return(0,r.jsx)(O,{children:(0,r.jsx)(_,{})})}function _(){var t=(0,h.CG)((function(t){return t.demo.isStandalone})),e=(0,h.CG)((function(t){return t.demo.status})),n=(0,i.useContext)(C);return(0,r.jsx)("div",{className:"container px-4 px-lg-5 my-5",children:(0,r.jsxs)("div",{className:"row gx-4 gx-lg-5 align-items-center",children:[(0,r.jsxs)("div",{className:"col-md-6",children:["broadcasting"!==e&&(0,r.jsx)(d,{}),"broadcasting"===e&&!t&&(0,r.jsx)("video",{width:640,height:480,ref:function(t){return n.attachVideo(t)},style:{width:"100%",height:"auto",maxWidth:640}}),"broadcasting"===e&&t&&(0,r.jsx)("div",{children:"Video"})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("h1",{className:"display-5 fw-bolder",children:"Facial recognition demo"}),(0,r.jsx)("p",{className:"lead",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Praesentium at dolorem quidem modi. Nam sequi consequatur obcaecati excepturi alias magni, accusamus eius blanditiis delectus ipsam minima ea iste laborum vero?"}),(0,r.jsx)("div",{className:"d-flex",children:(0,r.jsxs)("div",{children:[("ready"===e||"preparing"===e)&&(0,r.jsxs)("button",{className:"btn btn-outline-dark flex-shrink-0",type:"button",onClick:function(){return n.startBroadcast()},disabled:"preparing"===e,children:[(0,r.jsx)("i",{className:"bi-play-circle-fill me-1"}),"Launch demo"]}),"broadcasting"===e&&(0,r.jsxs)("button",{className:"btn btn-outline-dark flex-shrink-0",type:"button",onClick:function(){return n.stopBroadcast()},children:[(0,r.jsx)("i",{className:"bi-stop-circle-fill me-1"}),"Stop"]})]})})]})]})})}}}]);